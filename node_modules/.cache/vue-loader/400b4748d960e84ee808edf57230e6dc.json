{"remainingRequest":"/home/sandy/Documents/Project/ss-vue-task-staff-managment-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sandy/Documents/Project/ss-vue-task-staff-managment-system/src/views/Employee.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sandy/Documents/Project/ss-vue-task-staff-managment-system/src/views/Employee.vue","mtime":1614970746461},{"path":"/home/sandy/Documents/Project/ss-vue-task-staff-managment-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sandy/Documents/Project/ss-vue-task-staff-managment-system/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/sandy/Documents/Project/ss-vue-task-staff-managment-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/sandy/Documents/Project/ss-vue-task-staff-managment-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgZGlhbG9nOiBmYWxzZSwKICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICBoZWFkZXJzOiBbCiAgICAgIHsKICAgICAgICB0ZXh0OiAiRW1wbG95ZWUgTmFtZSIsCiAgICAgICAgYWxpZ246ICJzdGFydCIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAibmFtZSIsCiAgICAgIH0sCiAgICAgIHsgdGV4dDogIlBob25lIiwgdmFsdWU6ICJwaG9uZSIgfSwKICAgICAgeyB0ZXh0OiAiRW1haWwiLCB2YWx1ZTogImVtYWlsIiB9LAogICAgICB7IHRleHQ6ICJBY3Rpb25zIiwgdmFsdWU6ICJhY3Rpb25zIiwgc29ydGFibGU6IGZhbHNlIH0sCiAgICBdLAogICAgZW1wbG95ZWU6IFtdLAogICAgZWRpdGVkSW5kZXg6IC0xLAogICAgZWRpdGVkSXRlbTogewogICAgICBuYW1lOiAiIiwKICAgICAgcGhvbmU6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICB9LAogICAgZGVmYXVsdEl0ZW06IHsKICAgICAgbmFtZTogIiIsCiAgICAgIHBob25lOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgfSwKICB9KSwKCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBhbGxFbXBvbHllZTogImFsbEVtcG9seWVlIiwKICAgIH0pLAoKICAgIGZvcm1UaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gIk5ldyBJdGVtIiA6ICJFZGl0IEl0ZW0iOwogICAgfSwKICB9LAoKICB3YXRjaDogewogICAgZGlhbG9nKHZhbCkgewogICAgICB2YWwgfHwgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIGRpYWxvZ0RlbGV0ZSh2YWwpIHsKICAgICAgdmFsIHx8IHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewogICAgZWRpdEl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5lbXBsb3llZS5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwoKICAgICAgY29uc29sZS5sb2coImVkaXRJdGVtIik7CiAgICAgIGNvbnNvbGUubG9nKGl0ZW0ubmFtZSk7CiAgICB9LAoKICAgIGRlbGV0ZUl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy4kc3RvcmUuc3RhdGUuZW1wbG95ZWUuaW5kZXhPZihpdGVtKTsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gdHJ1ZTsKICAgIH0sCgogICAgZGVsZXRlSXRlbUNvbmZpcm0oKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJkZWxldGVFbXBsb3llZSIsIHRoaXMuZWRpdGVkSW5kZXgpOwogICAgICB0aGlzLmNsb3NlRGVsZXRlKCk7CiAgICB9LAoKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSk7CiAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IC0xOwogICAgICB9KTsKICAgIH0sCgogICAgY2xvc2VEZWxldGUoKSB7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKTsKICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKCiAgICBzYXZlKCkgewogICAgICBpZiAodGhpcy5lZGl0ZWRJbmRleCA+IC0xKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmVtcGxveWVlW3RoaXMuZWRpdGVkSW5kZXhdLCB0aGlzLmVkaXRlZEl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJlZGl0RW1wbG95ZWUiLCB0aGlzLmVkaXRlZEl0ZW0pOwogICAgICB9CiAgICAgIHRoaXMuY2xvc2UoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Employee.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Employee.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"employee\">\n    <h1 class=\"subheading blue-grey--text\">Employee Page</h1>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"allEmpolyee\"\n      sort-by=\"name\"\n      class=\"elevation-1\"\n    >\n      <template v-slot:top>\n        <v-toolbar flat>\n          <v-toolbar-title>Employee Info</v-toolbar-title>\n          <v-divider class=\"mx-4\" inset vertical></v-divider>\n          <v-spacer></v-spacer>\n\n          <v-btn :to=\"{ name: 'AddEmployee' }\" color=\"success\">\n            <v-icon>mdi-account-plus-outline</v-icon>\n          </v-btn>\n          <v-dialog v-model=\"dialog\" max-width=\"500px\">\n            <v-card>\n              <v-card-title>\n                <span class=\"headline\">{{ formTitle }}</span>\n              </v-card-title>\n\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field\n                        v-model=\"editedItem.name\"\n                        label=\"Name\"\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field\n                        v-model=\"editedItem.phone\"\n                        label=\"Phone\"\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                      <v-text-field\n                        v-model=\"editedItem.email\"\n                        label=\"Email\"\n                      ></v-text-field>\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"close\">\n                  Cancel\n                </v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"save\"> Save </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"headline\"\n                >Are you sure you want to delete this item?</v-card-title\n              >\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                  >Cancel</v-btn\n                >\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                  >OK</v-btn\n                >\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n\n      <template v-slot:[`item.actions`]=\"{ item }\">\n        <v-btn color=\"ma-1\" fab @click=\"editItem(item)\"\n          ><v-icon> mdi-account-edit </v-icon>\n        </v-btn>\n\n        <v-btn\n          class=\"ma-1 ml-1\"\n          fab\n          color=\"red lighten-4\"\n          @click=\"deleteItem(item)\"\n        >\n          <v-icon> mdi-delete </v-icon></v-btn\n        >\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  data: () => ({\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: \"Employee Name\",\n        align: \"start\",\n        sortable: false,\n        value: \"name\",\n      },\n      { text: \"Phone\", value: \"phone\" },\n      { text: \"Email\", value: \"email\" },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    employee: [],\n    editedIndex: -1,\n    editedItem: {\n      name: \"\",\n      phone: \"\",\n      email: \"\",\n    },\n    defaultItem: {\n      name: \"\",\n      phone: \"\",\n      email: \"\",\n    },\n  }),\n\n  computed: {\n    ...mapGetters({\n      allEmpolyee: \"allEmpolyee\",\n    }),\n\n    formTitle() {\n      return this.editedIndex === -1 ? \"New Item\" : \"Edit Item\";\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    },\n  },\n\n  methods: {\n    editItem(item) {\n      this.editedIndex = this.employee.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog = true;\n\n      console.log(\"editItem\");\n      console.log(item.name);\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.$store.state.employee.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    },\n\n    deleteItemConfirm() {\n      this.$store.dispatch(\"deleteEmployee\", this.editedIndex);\n      this.closeDelete();\n    },\n\n    close() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.employee[this.editedIndex], this.editedItem);\n      } else {\n        this.$store.dispatch(\"editEmployee\", this.editedItem);\n      }\n      this.close();\n    },\n  },\n};\n</script>\n"]}]}